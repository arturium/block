PrevBlockHash–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç Hash—Å–æ–±–æ–π –±–ª–æ–∫ - –∑–∞–≥–æ–ª–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–∑—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö, –∞ —Ç–∞–∫–∂–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ( Data–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö. –ò—Ç–∞–∫, –º—ã —Å–º–µ—à–∏–≤–∞–µ–º –∏—Ö –∑–¥–µ—Å—å –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã.

–ò—Ç–∞–∫, –∫–∞–∫ –º—ã –≤—ã—á–∏—Å–ª—è–µ–º —Ö—ç—à–∏? –°–ø–æ—Å–æ–± –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ö—ç—à–µ–π —è–≤–ª—è–µ—Ç—Å—è –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ–π –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å—é –±–ª–æ–∫—á–µ–π–Ω–∞, –∏ –∏–º–µ–Ω–Ω–æ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç –±–ª–æ–∫—á–µ–π–Ω –±–µ–∑–æ–ø–∞—Å–Ω—ã–º. –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ö–µ—à–∞ - —Å–ª–æ–∂–Ω–∞—è –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–Ω–∏–º–∞–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –¥–∞–∂–µ –Ω–∞ –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö (–ø–æ—ç—Ç–æ–º—É –ª—é–¥–∏ –ø–æ–∫—É–ø–∞—é—Ç –º–æ—â–Ω—ã–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã –¥–ª—è –º–∞–π–Ω–∏–Ω–≥–∞ –±–∏—Ç–∫–æ–π–Ω–æ–≤). –≠—Ç–æ –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –¥–∏–∑–∞–π–Ω, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –∏—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è. –ú—ã –æ–±—Å—É–¥–∏–º –∏ —Ä–µ–∞–ª–∏–∑—É–µ–º —ç—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –≤ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç–∞—Ç—å–µ.

–°–µ–π—á–∞—Å –º—ã –ø—Ä–æ—Å—Ç–æ –≤–æ–∑—å–º–µ–º –±–ª–æ—á–Ω—ã–µ –ø–æ–ª—è, –æ–±—ä–µ–¥–∏–Ω–∏–º –∏—Ö –∏ –≤—ã—á–∏—Å–ª–∏–º —Ö—ç—à SHA-256 –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏. –î–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º —ç—Ç–æ –≤ SetHash–º–µ—Ç–æ–¥–µ:
```golang

func (b *Block) SetHash() {
	timestamp := []byte(strconv.FormatInt(b.Timestamp, 10))
	headers := bytes.Join([][]byte{b.PrevBlockHash, b.Data, timestamp}, []byte{})
	hash := sha256.Sum256(headers)

	b.Hash = hash[:]
}
```

–î–∞–ª–µ–µ, —Å–ª–µ–¥—É—è —Å–æ–≥–ª–∞—à–µ–Ω–∏—é –ì–æ–ª–∞–Ω–≥–∞, –º—ã —Ä–µ–∞–ª–∏–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–æ—Å—Ç–∏—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –±–ª–æ–∫–∞:

```golang
func NewBlock(data string, prevBlockHash []byte) *Block {
	block := &Block{time.Now().Unix(), []byte(data), prevBlockHash, []byte{}}
	block.SetHash()
	return block
}
```

–ò —ç—Ç–æ –≤—Å–µ –¥–ª—è –±–ª–æ–∫–∞!

### Blockchain
–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Ä–µ–∞–ª–∏–∑—É–µ–º –±–ª–æ–∫—á–µ–π–Ω. –ü–æ —Å–≤–æ–µ–π —Å—É—Ç–∏ –±–ª–æ–∫—á–µ–π–Ω - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π: —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –±–ª–æ–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –≤—Å—Ç–∞–≤–∫–∏ –∏ —á—Ç–æ –∫–∞–∂–¥—ã–π –±–ª–æ–∫ —Å–≤—è–∑–∞–Ω —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º. –≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –±–ª–æ–∫ –≤ —Ü–µ–ø–æ—á–∫–µ –∏ (—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ) –ø–æ–ª—É—á–∏—Ç—å –±–ª–æ–∫ –ø–æ –µ–≥–æ —Ö–µ—à—É.

–í Golang —ç—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–∞—Å—Å–∏–≤–∞ –∏ –∫–∞—Ä—Ç—ã: –º–∞—Å—Å–∏–≤ –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–µ —Ö—ç—à–∏ (–º–∞—Å—Å–∏–≤—ã —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã –≤ Go), –∞ –∫–∞—Ä—Ç–∞ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å hash ‚Üí block–ø–∞—Ä—ã (–∫–∞—Ä—Ç—ã –Ω–µ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã). –ù–æ –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ –±–ª–æ–∫—á–µ–π–Ω–∞ –º—ã –±—É–¥–µ–º –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞—Å—Å–∏–≤, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞–º –ø–æ–∫–∞ –Ω–µ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –±–ª–æ–∫–∏ –ø–æ –∏—Ö —Ö–µ—à—É.

```golang
type Blockchain struct {
	blocks []*Block
}
```

–≠—Ç–æ –Ω–∞—à –ø–µ—Ä–≤—ã–π –±–ª–æ–∫—á–µ–π–Ω! –Ø –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥—É–º–∞–ª, —á—Ç–æ —ç—Ç–æ –±—É–¥–µ—Ç —Ç–∞–∫ –ª–µ–≥–∫–æ üòâ

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–º –¥–æ–±–∞–≤–ª—è—Ç—å –±–ª–æ–∫–∏ –∫ –Ω–µ–º—É:

```golang
func (bc *Blockchain) AddBlock(data string) {
	prevBlock := bc.blocks[len(bc.blocks)-1]
	newBlock := NewBlock(data, prevBlock.Hash)
	bc.blocks = append(bc.blocks, newBlock)
}
```

–≠—Ç–æ –æ–Ω–æ! –ò–ª–∏ –Ω–µ—Ç?..

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –±–ª–æ–∫, –Ω–∞–º –Ω—É–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –±–ª–æ–∫, –Ω–æ –≤ –Ω–∞—à–µ–π –±–ª–æ–∫—á–µ–π–Ω–µ –Ω–µ—Ç –±–ª–æ–∫–æ–≤! –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤ –ª—é–±–æ–π —Ü–µ–ø–æ—á–∫–µ –±–ª–æ–∫–æ–≤ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –±–ª–æ–∫, –∏ —Ç–∞–∫–æ–π –±–ª–æ–∫, –ø–µ—Ä–≤—ã–π –≤ —Ü–µ–ø–æ—á–∫–µ, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –±–ª–æ–∫–æ–º –≥–µ–Ω–µ–∑–∏—Å–∞ . –î–∞–≤–∞–π—Ç–µ —Ä–µ–∞–ª–∏–∑—É–µ–º –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç —Ç–∞–∫–æ–π –±–ª–æ–∫:

```golang
func NewGenesisBlock() *Block {
	return NewBlock("Genesis Block", []byte{})
}
```

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞–µ—Ç –±–ª–æ–∫—á–µ–π–Ω —Å –±–ª–æ–∫–æ–º genesis:

```golang
func NewBlockchain() *Blockchain {
	return &Blockchain{[]*Block{NewGenesisBlock()}}
}
```

–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ –±–ª–æ–∫—á–µ–π–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```golang
func main() {
	bc := NewBlockchain()

	bc.AddBlock("Send 1 BTC to Ivan")
	bc.AddBlock("Send 2 more BTC to Ivan")

	for _, block := range bc.blocks {
		fmt.Printf("Prev. hash: %x\n", block.PrevBlockHash)
		fmt.Printf("Data: %s\n", block.Data)
		fmt.Printf("Hash: %x\n", block.Hash)
		fmt.Println()
	}
}
```

–í—ã—Ö–æ–¥:

```
Prev. hash:
Data: Genesis Block
Hash: aff955a50dc6cd2abfe81b8849eab15f99ed1dc333d38487024223b5fe0f1168

Prev. hash: aff955a50dc6cd2abfe81b8849eab15f99ed1dc333d38487024223b5fe0f1168
Data: Send 1 BTC to Ivan
Hash: d75ce22a840abb9b4e8fc3b60767c4ba3f46a0432d3ea15b71aef9fde6a314e1

Prev. hash: d75ce22a840abb9b4e8fc3b60767c4ba3f46a0432d3ea15b71aef9fde6a314e1
Data: Send 2 more BTC to Ivan
Hash: 561237522bb7fcfbccbc6fe0e98bbbde7427ffe01c6fb223f7562288ca2295d1
```

–≠—Ç–æ –æ–Ω–æ!

### –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–ú—ã —Å–æ–∑–¥–∞–ª–∏ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ç–æ—Ç–∏–ø –±–ª–æ–∫—á–µ–π–Ω–∞: —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –º–∞—Å—Å–∏–≤ –±–ª–æ–∫–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∏–º–µ–µ—Ç —Å–≤—è–∑—å —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º. –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –±–ª–æ–∫—á–µ–π–Ω –Ω–∞–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–µ–µ. –í –Ω–∞—à–µ–π —Ü–µ–ø–æ—á–∫–µ –±–ª–æ–∫–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤ –ª–µ–≥–∫–æ –∏ –±—ã—Å—Ç—Ä–æ, –Ω–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–ø–æ—á–∫–µ –±–ª–æ–∫–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤ —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–π —Ä–∞–±–æ—Ç—ã: –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø–æ–ª—É—á–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞ (—ç—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è Proof-of-Work). –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –±–ª–æ–∫—á–µ–π–Ω - —ç—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç –µ–¥–∏–Ω–æ–≥–æ –ª–∏—Ü–∞, –ø—Ä–∏–Ω–∏–º–∞—é—â–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–æ–≤—ã–π –±–ª–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –∏ –æ–¥–æ–±—Ä–µ–Ω –¥—Ä—É–≥–∏–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —Å–µ—Ç–∏ (—ç—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Å–µ–Ω—Å—É—Å–æ–º). –ò –≤ –Ω–∞—à–µ–π –±–ª–æ–∫—á–µ–π–Ω–µ –µ—â–µ –Ω–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π!

–í —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–∞—Ç—å—è—Ö –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–∞–∂–¥—É—é –∏–∑ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π.
